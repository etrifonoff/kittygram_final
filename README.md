# Kittygram

[![Main Kittygram workflow](https://github.com/etrifonoff/kittygram_final/actions/workflows/main.yml/badge.svg)](https://github.com/etrifonoff/kittygram_final/actions/workflows/main.yml)

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**Kittygram** ‚Äî —ç—Ç–æ —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å –¥–ª—è –æ–±–º–µ–Ω–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏ –ª—é–±–∏–º—ã—Ö –ø–∏—Ç–æ–º—Ü–µ–≤. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è, –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Å–≤–æ–∏—Ö –∫–æ—Ç–∏–∫–æ–≤ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π, –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –ø–∏—Ç–æ–º—Ü–µ–≤ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Å–ª–µ–¥–∏—Ç—å –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏.

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

- üê± –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üì∏ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –∫–æ—Ç–∏–∫–æ–≤
- ‚úèÔ∏è –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –ø–∏—Ç–æ–º—Ü–µ–≤
- üé® –£–∫–∞–∑–∞–Ω–∏–µ —Ü–≤–µ—Ç–∞ –∏ –≥–æ–¥–∞ —Ä–æ–∂–¥–µ–Ω–∏—è –ø–∏—Ç–æ–º—Ü–∞
- üìã –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ä—Ç–æ—á–µ–∫ –¥—Ä—É–≥–∏—Ö –∫–æ—Ç–∏–∫–æ–≤
- üîê –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏–º–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è–º–∏ (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ)

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Backend:
- **Python 3.9**
- **Django 3.2** ‚Äî –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Django REST Framework** ‚Äî –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è API
- **Djoser** ‚Äî –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **PostgreSQL 13** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Gunicorn** ‚Äî WSGI-—Å–µ—Ä–≤–µ—Ä

### Frontend:
- **React** ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- **Node.js 18** ‚Äî —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è JavaScript

### DevOps:
- **Docker** –∏ **Docker Compose** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **Nginx** ‚Äî –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –∏ reverse proxy
- **GitHub Actions** ‚Äî CI/CD

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:

- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Docker –∏ Docker Compose
- –°–µ—Ä–≤–µ—Ä —Å Ubuntu (–¥–ª—è production)
- –î–æ–º–µ–Ω–Ω–æ–µ –∏–º—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫:

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/evtrifonoff/kittygram_final.git
cd kittygram_final
```

2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ (—Å–º. —Ä–∞–∑–¥–µ–ª "–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è")

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:
```bash
docker compose up -d
```

4. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å–æ–±–µ—Ä–∏—Ç–µ —Å—Ç–∞—Ç–∏–∫—É:
```bash
docker compose exec backend python manage.py migrate
docker compose exec backend python manage.py collectstatic
docker compose exec backend cp -r /app/collected_static/. /backend_static/static/
```

5. –ü—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:9000`

### Production —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ –µ–≥–æ –Ω–∞ —Å–≤–æ–π —Å–µ—Ä–≤–µ—Ä

2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ GitHub Secrets –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:
   - `DOCKER_USERNAME` ‚Äî –ª–æ–≥–∏–Ω –Ω–∞ DockerHub
   - `DOCKER_PASSWORD` ‚Äî –ø–∞—Ä–æ–ª—å –æ—Ç DockerHub
   - `HOST` ‚Äî IP-–∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
   - `USER` ‚Äî –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
   - `SSH_KEY` ‚Äî –ø—Ä–∏–≤–∞—Ç–Ω—ã–π SSH-–∫–ª—é—á
   - `SSH_PASSPHRASE` ‚Äî –ø–∞—Ä–æ–ª—å –æ—Ç SSH-–∫–ª—é—á–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
   - `TELEGRAM_TO` ‚Äî ID –≤–∞—à–µ–≥–æ Telegram-–∞–∫–∫–∞—É–Ω—Ç–∞
   - `TELEGRAM_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞
   - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–º. —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª)

3. –ü—Ä–∏ –ø—É—à–µ –≤ –≤–µ—Ç–∫—É `main` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è:
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
   - –°–±–æ—Ä–∫–∞ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è Docker-–æ–±—Ä–∞–∑–æ–≤
   - –î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä
   - –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏:

```env
# PostgreSQL
POSTGRES_DB=kittygram
POSTGRES_USER=kittygram_user
POSTGRES_PASSWORD=kittygram_password

# Database connection
DB_HOST=db
DB_PORT=5432

# Django
SECRET_KEY=your-secret-key-here
DEBUG=False
ALLOWED_HOSTS=localhost,127.0.0.1,your-domain.com
```

### –û–ø–∏—Å–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:

- `POSTGRES_DB` ‚Äî –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `POSTGRES_USER` ‚Äî –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë–î
- `POSTGRES_PASSWORD` ‚Äî –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë–î
- `DB_HOST` ‚Äî —Ö–æ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–¥–ª—è Docker –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `db`)
- `DB_PORT` ‚Äî –ø–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `5432`)
- `SECRET_KEY` ‚Äî —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á Django (—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π)
- `DEBUG` ‚Äî —Ä–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ (`True` –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, `False` –¥–ª—è production)
- `ALLOWED_HOSTS` ‚Äî —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö —Ö–æ—Å—Ç–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SECRET_KEY:

```python
from django.core.management.utils import get_random_secret_key
print(get_random_secret_key())
```

## –ê–≤—Ç–æ—Ä

**–ï–≤–≥–µ–Ω–∏–π –¢—Ä–∏—Ñ–æ–Ω–æ–≤**

- GitHub: [@evtrifonoff](https://github.com/evtrifonoff)
- –ü—Ä–æ–µ–∫—Ç: [Kittygram](https://ekittygram.webhop.me)

---

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ —Ä–∞–º–∫–∞—Ö –æ–±—É—á–µ–Ω–∏—è –Ω–∞ –∫—É—Ä—Å–µ Python-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –≤ –Ø–Ω–¥–µ–∫—Å.–ü—Ä–∞–∫—Ç–∏–∫—É–º.
